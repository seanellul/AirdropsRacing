define("dcldash",["exports","@decentraland/RestrictedActions"],(function(e,t){"use strict";class s extends Entity{constructor(){super(),this.onEnter=()=>{},this.onExit=()=>{},this.hasEntered=!1,engine.addEntity(this),this.checkCollision=a.add((()=>this.check())),this.checkCollision.start()}check(){let e=this.getParent(),t=new Vector3,s=new Vector3,i=new Quaternion;do{if(e){let a=e.getComponentOrCreate(Transform);t.addInPlace(a.position.clone()),s.addInPlace(a.scale.clone()),i.eulerAngles.addInPlace(a.eulerAngles),e=e.getParent()}}while(e&&"0"!==e.uuid);const a=this.getComponentOrCreate(Transform);this.getParent();const o=C(Vector3.Add(t,a.position),Vector3.Add(s,a.scale),new Vector3(Camera.instance.feetPosition.x,Camera.instance.feetPosition.y,Camera.instance.feetPosition.z));o&&!this.hasEntered?(this.onEnter(),this.debug&&this.debug.showHighlight(),this.hasEntered=!0):!o&&this.hasEntered&&(this.onExit(),this.debug&&this.debug.hideHighlight(),this.hasEntered=!1)}enableDebug(){this.debug=new i(this),this.debug.show()}enable(){var e;null===(e=this.checkCollision)||void 0===e||e.start()}disable(){var e;null===(e=this.checkCollision)||void 0===e||e.stop()}}class i extends Entity{constructor(e){super(),this.setParent(e)}show(){this.shape=new BoxShape,this.shape.withCollisions=!1,this.material=p.opaqueRed(),this.addComponentOrReplace(this.shape),this.addComponentOrReplace(this.material)}showHighlight(){this.material=p.opaqueGreen(),this.addComponentOrReplace(this.material)}hideHighlight(){this.material=p.opaqueRed(),this.addComponentOrReplace(this.material)}}const a=new class{constructor(){this.nonce=0,this.queue=new Map,this.system=this}add(e,t){const s={id:this.nonce++,onFrame:e,data:t};return{setting:s,start:()=>{this.queue.set(s.id,s),this.enable()},stop:()=>{this.queue.delete(s.id)}}}update(e){this.queue.size||this.disable(),this.queue.forEach((t=>{const{id:s,onFrame:i,data:a}=t;i&&i(a,e)}))}enable(){this.system.active||engine.addSystem(this)}disable(){this.system.active&&engine.removeSystem(this)}};class o{constructor(e){this.image=e,this.tweens=new Map,this.animation=a.add(((e,t)=>this.update(e,t)))}fadeIn(e,t,s){this.tweens.set("opacity",{timer:0,settings:{from:0,to:1,duration:e,ease:t,callback:s}}),this.animation.start()}fadeOut(e,t,s){this.tweens.set("opacity",{timer:0,settings:{from:this.image.opacity,to:0,duration:e,ease:t,callback:s}}),this.animation.start()}fadeTo(e,t,s,i){this.tweens.set("opacity",{timer:0,settings:{from:this.image.opacity,to:e,duration:t,ease:s,callback:i}}),this.animation.start()}moveTo(e,t,s,i,a){this.tweens.set("positionX",{timer:0,settings:{from:this.image.positionX,to:e,duration:s,ease:i,callback:a}}),this.tweens.set("positionY",{timer:0,settings:{from:this.image.positionY,to:t,duration:s,ease:i,callback:a}}),this.animation.start()}moveToX(e,t,s,i){this.tweens.set("positionX",{timer:0,settings:{from:this.image.positionX,to:e,duration:t,ease:s,callback:i}}),this.animation.start()}moveToY(e,t,s,i){this.tweens.set("positionY",{timer:0,settings:{from:this.image.positionY,to:e,duration:t,ease:s,callback:i}}),this.animation.start()}moveRelativeTo(e,t,s,i,a){this.tweens.set("positionX",{timer:0,settings:{from:this.image.positionX,to:new UIValue(this.image.positionX).value+new UIValue(e).value,duration:s,ease:i,callback:a}}),this.tweens.set("positionY",{timer:0,settings:{from:this.image.positionY,to:new UIValue(this.image.positionY).value+new UIValue(t).value,duration:s,ease:i,callback:a}}),this.animation.start()}resizeTo(e,t,s,i,a){this.tweens.set("width",{timer:0,settings:{from:this.image.width,to:e,duration:s,ease:i,callback:a}}),this.tweens.set("height",{timer:0,settings:{from:this.image.height,to:t,duration:s,ease:i,callback:a}}),this.animation.start()}resizeWidthTo(e,t,s,i){this.tweens.set("width",{timer:0,settings:{from:this.image.width,to:e,duration:t,ease:s,callback:i}}),this.animation.start()}resizeHeightTo(e,t,s,i){this.tweens.set("height",{timer:0,settings:{from:this.image.height,to:e,duration:t,ease:s,callback:i}}),this.animation.start()}moveSourceTo(e,t,s,i,a){this.tweens.set("sourceLeft",{timer:0,settings:{from:this.image.sourceLeft,to:e,duration:s,ease:i,callback:a}}),this.tweens.set("sourceTop",{timer:0,settings:{from:this.image.sourceTop,to:t,duration:s,ease:i,callback:a}}),this.animation.start()}moveSourceLeftTo(e,t,s,i){this.tweens.set("sourceLeft",{timer:0,settings:{from:this.image.sourceLeft,to:e,duration:t,ease:s,callback:i}}),this.animation.start()}moveSourceTopTo(e,t,s,i){this.tweens.set("sourceTop",{timer:0,settings:{from:this.image.sourceTop,to:e,duration:t,ease:s,callback:i}}),this.animation.start()}resizeSourceTo(e,t,s,i,a){this.tweens.set("sourceWidth",{timer:0,settings:{from:this.image.sourceWidth,to:e,duration:s,ease:i,callback:a}}),this.tweens.set("sourceHeight",{timer:0,settings:{from:this.image.sourceHeight,to:t,duration:s,ease:i,callback:a}}),this.animation.start()}resizeSourceWidthTo(e,t,s,i){this.tweens.set("sourceWidth",{timer:0,settings:{from:this.image.sourceWidth,to:e,duration:t,ease:s,callback:i}}),this.animation.start()}resizeSourceHeightTo(e,t,s,i){this.tweens.set("sourceHeight",{timer:0,settings:{from:this.image.sourceHeight,to:e,duration:t,ease:s,callback:i}}),this.animation.start()}scaleIn(e,t,s,i){this.tweens.set("width",{timer:0,settings:{from:new UIValue(this.image.width).value*new UIValue(e).value,to:this.image.width,duration:t,ease:s,callback:i}}),this.tweens.set("height",{timer:0,settings:{from:new UIValue(this.image.height).value*new UIValue(e).value,to:this.image.height,duration:t,ease:s,callback:i}}),this.tweens.set("opacity",{timer:0,settings:{from:0,to:this.image.opacity,duration:t,ease:s,callback:i}}),this.animation.start()}scaleOut(e,t,s,i){this.tweens.set("width",{timer:0,settings:{from:this.image.width,to:new UIValue(this.image.width).value*new UIValue(e).value,duration:t,ease:s,callback:i}}),this.tweens.set("height",{timer:0,settings:{from:this.image.height,to:new UIValue(this.image.height).value*new UIValue(e).value,duration:t,ease:s,callback:i}}),this.tweens.set("opacity",{timer:0,settings:{from:this.image.opacity,to:0,duration:t,ease:s,callback:i}}),this.animation.start()}scaleTo(e,t,s,i){this.tweens.set("width",{timer:0,settings:{from:this.image.width,to:new UIValue(this.image.width).value*e,duration:t,ease:s,callback:i}}),this.tweens.set("height",{timer:0,settings:{from:this.image.height,to:new UIValue(this.image.width).value*e,duration:t,ease:s,callback:i}}),this.animation.start()}update(e,t){this.tweens.size?this.tweens.forEach(((e,s)=>{const{settings:i}=e,{duration:a,callback:o}=i;let r,h,n,c;switch(e.timer+=t,e.timer>=a&&(o&&o(),this.tweens.delete(s)),s){case"opacity":case"sourceLeft":case"sourceTop":case"sourceWidth":case"sourceHeight":if(r=new UIValue(i.from),h=new UIValue(i.to),e.timer>=a){this.image[s]=h.value;break}n=i.ease?i.ease(e.timer/a):e.timer/a,this.image[s]=Scalar.Lerp(r.value,h.value,n);break;case"width":case"height":case"positionX":case"positionY":if(r=new UIValue(i.from),h=new UIValue(i.to),e.timer>=a){this.image[s]=1==r.type||1==h.type?h.value:`${h.value}%`;break}n=i.ease?i.ease(e.timer/a):e.timer/a,c=Scalar.Lerp(r.value,h.value,n),log(1==r.type,1==h.type),this.image[s]=1==r.type||1==h.type?c:`${c}%`}})):this.animation.stop()}}const r=e=>1-h(1-e),h=e=>{const t=7.5625,s=2.75;return e<1/s?t*e*e:e<2/s?t*(e-=1.5/s)*e+.75:e<2.5/s?t*(e-=2.25/s)*e+.9375:t*(e-=2.625/s)*e+.984375},n=e=>e<.5?(1-h(1-2*e))/2:(1+h(2*e-1))/2,c=new class{easeInSine(e){return 1-Math.cos(e*Math.PI/2)}easeOutSine(e){return Math.sin(e*Math.PI/2)}easeInOutSine(e){return-(Math.cos(Math.PI*e)-1)/2}easeInCubic(e){return e*e*e}easeOutCubic(e){return 1-Math.pow(1-e,3)}easeInOutCubic(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}easeInQuint(e){return e*e*e*e*e}easeOutQuint(e){return 1-Math.pow(1-e,5)}easeInOutQuint(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}easeInCirc(e){return 1-Math.sqrt(1-Math.pow(e,2))}easeOutCirc(e){return Math.sqrt(1-Math.pow(e-1,2))}easeInOutCirc(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}easeInElastic(e){const t=2*Math.PI/3;return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*t)}easeOutElastic(e){const t=2*Math.PI/3;return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*t)+1}easeInOutElastic(e){const t=2*Math.PI/4.5;return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*t)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*t)/2+1}easeInQuad(e){return e*e}easeOutQuad(e){return 1-(1-e)*(1-e)}easeInOutQuad(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2}easeInQuart(e){return e*e*e*e}easeOutQuart(e){return 1-Math.pow(1-e,4)}easeInOutQuart(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2}easeInExpo(e){return 0===e?0:Math.pow(2,10*e-10)}easeOutExpo(e){return 1===e?1:1-Math.pow(2,-10*e)}easeInOutExpo(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}easeInBack(e){const t=1.70158;return 2.70158*e*e*e-t*e*e}easeOutBack(e){const t=1.70158;return 1+2.70158*Math.pow(e-1,3)+t*Math.pow(e-1,2)}easeInOutBack(e){const t=2.5949095;return e<.5?Math.pow(2*e,2)*(7.189819*e-t)/2:(Math.pow(2*e-2,2)*((t+1)*(2*e-2)+t)+2)/2}easeInBounce(e){return r(e)}easeOutBounce(e){return h(e)}easeInOutBounce(e){return n(e)}};var l;!function(e){e[e.HALIGN_LEFT=0]="HALIGN_LEFT",e[e.HALIGN_CENTER=1]="HALIGN_CENTER",e[e.HALIGN_RIGHT=2]="HALIGN_RIGHT",e[e.VALIGN_TOP=3]="VALIGN_TOP",e[e.VALIGN_CENTER=4]="VALIGN_CENTER",e[e.VALIGN_BOTTOM=5]="VALIGN_BOTTOM"}(l||(l={}));const u=()=>[1,0,0,0,0,1,1,1,0,0,1,0,1,1,0,1],m=(e,t,s,i,a,o,r)=>{let h=Scalar.InverseLerp(0,e,a),n=Scalar.InverseLerp(0,t,o),c=Scalar.InverseLerp(0,e,s),l=Scalar.InverseLerp(0,t,i),u={x:h,y:1-n},m={x:h+c,y:1-n},d={x:h+c,y:1-n-l},p={x:h,y:1-n-l},g=r?[u.x,u.y,m.x,m.y,d.x,d.y,p.x,p.y]:[p.x,p.y,d.x,d.y,m.x,m.y,u.x,u.y];return[...g,...g]};class d extends Entity{constructor(){super(),this.shape=new PlaneShape,this.material=new Material,this.hyperlink=null,this.addComponent(this.shape),this.addComponent(this.material),this.addComponent(new Transform),this.shape.uvs=[1,0,0,0,0,1,1,1,0,0,1,0,1,1,0,1]}setHyperlink(e){this.hyperlink=e,this.addComponentOrReplace(new OnPointerDown((e=>{this.hyperlink&&openExternalURL(this.hyperlink)})))}setImageUrl(e){this.texture=new Texture(e),this.material.albedoTexture=this.texture,this.material.emissiveColor=Color3.White(),this.material.emissiveTexture=this.texture,this.material.emissiveIntensity=1,this.addComponentOrReplace(this.material)}show(){this.alive||engine.addEntity(this)}hide(){this.alive&&engine.removeEntity(this)}}const p=new class{transparent(){return this._transparent||(this._transparent=new Material,this._transparent.albedoColor=new Color4(0,0,0,0)),this._transparent}opaqueRed(){return this._opaqueRed||(this._opaqueRed=new Material,this._opaqueRed.albedoColor=new Color4(1,0,0,.5)),this._opaqueRed}opaqueGreen(){return this._opaqueGreen||(this._opaqueGreen=new Material,this._opaqueGreen.albedoColor=new Color4(0,1,0,.5)),this._opaqueGreen}opaqueBlue(){return this._opaqueBlue||(this._opaqueBlue=new Material,this._opaqueBlue.albedoColor=new Color4(0,0,1,.5)),this._opaqueBlue}opaqueBlack(){return this._opaqueBlack||(this._opaqueBlack=new Material,this._opaqueBlack.albedoColor=new Color4(0,0,0,.5)),this._opaqueBlack}},g=new Texture("https://pmacom.github.io/assets/dcldash/images/landBarrier/barrier-sprite.png",{hasAlpha:!0,samplingMode:3,wrap:1}),w=new Material;w.albedoTexture=g,w.emissiveColor=Color3.White(),w.emissiveTexture=g,w.emissiveIntensity=5,w.transparencyMode=2;const I=w,f=1024,v=86,T={comingsoon:{sourcePositionTop:9,sourcePositionLeft:0,sourceWidth:f,sourceHeight:v},privateevent:{sourcePositionTop:104,sourcePositionLeft:0,sourceWidth:f,sourceHeight:v},accountrequired:{sourcePositionTop:198,sourcePositionLeft:0,sourceWidth:f,sourceHeight:v},nftrequired:{sourcePositionTop:293,sourcePositionLeft:0,sourceWidth:f,sourceHeight:v},temporarilylocked:{sourcePositionTop:388,sourcePositionLeft:0,sourceWidth:f,sourceHeight:v},outdated:{sourcePositionTop:482,sourcePositionLeft:0,sourceWidth:f,sourceHeight:v},undermaintenance:{sourcePositionTop:577,sourcePositionLeft:0,sourceWidth:f,sourceHeight:v},loadfully:{sourcePositionTop:671,sourcePositionLeft:0,sourceWidth:f,sourceHeight:v},transparent:{sourcePositionTop:924,sourcePositionLeft:0,sourceWidth:100,sourceHeight:100}};class b extends Entity{constructor(e,i="privateevent",o,r,h,n,c){if(super(),this.material=e,this.message=i,this.exitLocation=o,this.shapes=[],this.collider=new Entity,this.colliderShape=new BoxShape,this.triggerZone=new s,this.collider.addComponent(this.colliderShape),this.collider.addComponent(p.transparent()),this.collider.addComponent(new Transform({scale:new Vector3(16,8,16)})),this.collider.setParent(this),this.triggerZone.addComponent(new Transform({position:new Vector3(0,7,0),scale:new Vector3(16,16,16)})),this.triggerZone.onEnter=()=>{const{x:e,y:s,z:i}=this.exitLocation;t.movePlayerTo({x:e,y:s,z:i})},this.triggerZone.setParent(this),this.addComponent(new Transform({position:new Vector3(0,0,0)})),n){const t=new y(new Vector3(0,1,8),0,this.message);t.addComponent(e),this.shapes.push(t.shape),t.setParent(this)}if(c){const t=new y(new Vector3(0,1,-8),180,this.message);t.addComponent(e),this.shapes.push(t.shape),t.setParent(this)}if(h){const t=new y(new Vector3(8,1,0),90,this.message);t.addComponent(e),this.shapes.push(t.shape),t.setParent(this)}if(r){const t=new y(new Vector3(-8,1,0),-90,this.message);t.addComponent(e),this.shapes.push(t.shape),t.setParent(this)}this.animation=a.add(((e,t)=>{this.shapes.forEach((e=>{let s=e.uvs.map(((e,s)=>s%2==0?e+.05*t:e));e.uvs=s}))})),this.animation.start(),engine.addEntity(this)}setMessage(e){this.shapes.forEach((t=>{if(T[e]){const s=T[e],{sourceHeight:i,sourceWidth:a,sourcePositionLeft:o,sourcePositionTop:r}=s;t.uvs=m(1024,1024,a,i,o,r)}}))}setExitLocation(e){this.exitLocation=e}disable(){this.triggerZone.disable()}enable(){this.triggerZone.enable()}}class y extends Entity{constructor(e,t=0,s){super(),this.shape=new PlaneShape,this.addComponent(this.shape),this.shape.withCollisions=!1,this.setMessage(s),this.addComponent(new Transform({position:e,scale:new Vector3(16,1,1),rotation:(new Quaternion).setEuler(0,t,0)}))}setMessage(e){if(T[e]){const t=T[e],{sourceHeight:s,sourceWidth:i,sourcePositionLeft:a,sourcePositionTop:o}=t;this.shape.uvs=m(1024,1024,i,s,a,o)}}}const L=new class{constructor(){this.nonce=0,this.queue=new Map,this.system=this}add(e){return e.id=this.nonce++,this.queue.set(e.id,e),this.enable(),e}update(e){this.queue.size||this.disable(),this.queue.forEach((t=>{const{id:s,onInit:i,onFrame:a,onComplete:o,duration:r,data:h}=t;t.timer||(t.timer=0),t.timer&&0==t.timer&&i&&i(),t.timer+=e;const n=t.timer/r;a&&a(n,h),t.timer>=r&&(o&&o(),this.queue.delete(s))}))}enable(){this.system.active||engine.addSystem(this)}disable(){this.system.active&&engine.removeSystem(this)}},S=new UICanvas,C=(e,t,s)=>{const{x:i,y:a,z:o}=e,{x:r,y:h,z:n}=t,{x:c,y:l,z:u}=s,m=new Vector3(i-r/2,a-h/2,o-n/2),d=new Vector3(i+r/2,a+h/2,o+n/2);return c>m.x&&c<d.x&&l>m.y&&l<d.y&&u>m.z&&u<d.z},_=(e,t)=>L.add({duration:t,onComplete:()=>e()}),k=()=>{let{feetPosition:e,position:t,rotation:s}=Camera.instance;return JSON.stringify({feetPosition:e,position:t,rotation:s})};e.Dash_AnimationQueue=L,e.Dash_CheckWithinVolume=C,e.Dash_Countdown=class{constructor(){this.remaining=0,this.seconds=0,this.onCompleteMap=new Set,this.onUpdateMap=new Set,this.onSecondMap=new Set,this.timer=a.add(((e,t)=>this.onFrame(e,t)))}setTimer(e){this.remaining=this.seconds=e}onUpdate(e){this.onUpdateMap.add(e)}onSecond(e){this.onSecondMap.add(e)}onComplete(e){this.onCompleteMap.add(e)}start(){this.timer.start()}stop(){this.timer.stop()}onFrame(e,t){if(this.remaining>0){this.remaining-=t;let e=Math.floor(this.remaining);e!=this.seconds&&(this.seconds=e,this.onSecondMap.forEach((t=>t(e))))}this.seconds<=0&&(this.onCompleteMap.forEach((e=>e())),this.timer.stop()),this.onUpdateMap.forEach((e=>e(t)))}},e.Dash_Ease=c,e.Dash_GlobalCanvas=S,e.Dash_LandBarrier=class{constructor(e,t,s){this.parcels=t,this.exitLocation=s,this.barrierZones=[],this.parcelStrings=new Set;const i=e.split(",");this.base=new Vector2(parseInt(i[0]),parseInt(i[1])),this.parcels.forEach((e=>this.parcelStrings.add(e))),this.parcels.forEach(((e,t)=>{const s=e.split(","),i=new Vector2(parseInt(s[0]),parseInt(s[1])),a=new Vector2(i.x-this.base.x,i.y-this.base.y),o=new Vector3(16*a.x+8,1,16*a.y+8),r=!this.parcelStrings.has(`${i.x-1},${i.y}`),h=!this.parcelStrings.has(`${i.x+1},${i.y}`),n=!this.parcelStrings.has(`${i.x},${i.y+1}`),c=!this.parcelStrings.has(`${i.x},${i.y-1}`),l=new b(I,"accountrequired",this.exitLocation,r,h,n,c);l.addComponentOrReplace(new Transform({position:o})),this.barrierZones.push(l)}))}setMessage(e){this.barrierZones.forEach((t=>t.setMessage(e)))}disable(){this.barrierZones.forEach((e=>{e.disable(),e.alive&&engine.removeEntity(e)}))}enable(){this.barrierZones.forEach((e=>{e.enable(),e.alive||engine.addEntity(e)}))}},e.Dash_Material=p,e.Dash_OnFirstMove=e=>{_((()=>{const t=k(),s=a.add((()=>{const i=k();t!=i&&(e(),s.stop())}),{initialPosition:t});s.start()}),1)},e.Dash_OnUpdateFrame=a,e.Dash_SimplePoster=d,e.Dash_TriggerZone=s,e.Dash_UV_Crop_Video=(e,t,s,i,a,o)=>{const r=[Scalar.InverseLerp(0,e,a+s),Scalar.InverseLerp(0,t,o+i),Scalar.InverseLerp(0,e,a),Scalar.InverseLerp(0,t,o+i),Scalar.InverseLerp(0,e,a),Scalar.InverseLerp(0,t,o),Scalar.InverseLerp(0,e,a+s),Scalar.InverseLerp(0,t,o)];return[...r,...r]},e.Dash_UV_Curved_Image=(e,t)=>{let s=e/100*2,i=s*t,a=s*t+s,o=[i,0,a,0,a,1,i,1];return[...o,...o]},e.Dash_UV_Curved_Video=(e,t)=>{let s=e/100*2,i=s*t,a=s*t+s,o=[i,1,a,1,a,0,i,0];return[...o,...o]},e.Dash_UV_Image=u,e.Dash_UV_Plane_Crop_Image=m,e.Dash_UV_UI_Crop_Image=(e,t,s,i,a,o,r)=>{let h=Scalar.InverseLerp(0,e,a),n=Scalar.InverseLerp(0,t,o),c=Scalar.InverseLerp(0,e,s),l=Scalar.InverseLerp(0,t,i),u={x:h,y:1-n},m={x:h+c,y:1-n},d={x:h+c,y:1-n-l},p={x:h,y:1-n-l},g=r?[d.x,d.y,p.x,p.y,u.x,u.y,m.x,m.y]:[m.x,m.y,u.x,u.y,p.x,p.y,d.x,d.y];return[...g,...g]},e.Dash_UV_Video=()=>[0,1,1,1,1,0,0,0,1,1,0,1,0,0,1,0],e.Dash_Wait=_,e.DynamicImage=o,e.DynamicImageBar=class{constructor(e,t,s=0,i=l.HALIGN_CENTER){this.backgroundImage=e,this.orientation=i,this.ease=c.easeOutQuint,this.fillImage=new o(t),this.backgroundImage.opacity=.5,this.width=new UIValue(t.width).value,this.height=new UIValue(t.height).value,this.sourceWidth=new UIValue(t.sourceWidth).value,this.sourceHeight=new UIValue(t.sourceHeight).value,this.sourceLeft=new UIValue(t.sourceLeft).value,this.sourceTop=new UIValue(t.sourceTop).value,this.value=s,this.setValue(this.value,0)}setEase(e){this.ease=e}setValue(e,t=1){const s=this.width*(e/100),i=this.height*(e/100),a=this.sourceWidth*(e/100),o=this.sourceHeight*(e/100);switch(this.orientation){case l.HALIGN_CENTER:switch(this.fillImage.image.hAlign){case"left":this.fillImage.moveToX(this.width/2-this.width/2*Scalar.InverseLerp(0,this.sourceWidth,a),t,this.ease),this.fillImage.moveSourceLeftTo(this.sourceLeft+(this.sourceWidth-a)/2,t,this.ease);break;case"center":this.fillImage.moveSourceLeftTo(this.sourceLeft+(this.sourceWidth-a)/2,t,this.ease);break;case"right":this.fillImage.moveToX(this.width/2*-1+this.width/2*Scalar.InverseLerp(0,this.sourceWidth,a),t,this.ease),this.fillImage.moveSourceLeftTo(this.sourceLeft+(this.sourceWidth-a)/2,t,this.ease)}this.fillImage.resizeWidthTo(s,t,this.ease),this.fillImage.resizeSourceWidthTo(a,t,this.ease);break;case l.HALIGN_LEFT:switch(this.fillImage.image.hAlign){case"left":break;case"center":this.fillImage.moveToX(this.width/2+this.width/2*Scalar.InverseLerp(0,this.sourceWidth,a)-this.width,t,this.ease);break;case"right":this.fillImage.moveToX(this.width*Scalar.InverseLerp(0,this.sourceWidth,a)-this.width,t,this.ease)}this.fillImage.resizeWidthTo(s,t,this.ease),this.fillImage.resizeSourceWidthTo(a,t,this.ease);break;case l.HALIGN_RIGHT:switch(this.fillImage.image.hAlign){case"left":this.fillImage.moveToX(this.width+this.width*Scalar.InverseLerp(this.sourceWidth,0,a)-this.width,t,this.ease),this.fillImage.moveSourceLeftTo(this.sourceLeft+(this.sourceWidth-a),t,this.ease);break;case"center":this.fillImage.moveToX(this.width+this.width/2*Scalar.InverseLerp(this.sourceWidth,0,a)-this.width,t,this.ease),this.fillImage.moveSourceLeftTo(this.sourceLeft+(this.sourceWidth-a),t,this.ease);break;case"right":this.fillImage.moveSourceLeftTo(this.sourceLeft+(this.sourceWidth-a),t,this.ease),this.fillImage.moveToX(0,t,this.ease)}this.fillImage.resizeWidthTo(s,t,this.ease),this.fillImage.resizeSourceWidthTo(a,t,this.ease);break;case l.VALIGN_CENTER:switch(this.fillImage.image.vAlign){case"top":this.fillImage.moveToY(this.height/2*Scalar.InverseLerp(0,this.sourceHeight,o)-this.height/2,t,this.ease),this.fillImage.moveSourceTopTo(this.sourceTop+(this.sourceHeight-o)/2,t,this.ease);break;case"center":this.fillImage.moveSourceTopTo(this.sourceTop+(this.sourceHeight-o)/2,t,this.ease);break;case"bottom":this.fillImage.moveToY(this.height/2*Scalar.InverseLerp(this.sourceHeight,0,o),t,this.ease),this.fillImage.moveSourceTopTo(this.sourceTop+(this.sourceHeight-o)/2,t,this.ease)}this.fillImage.resizeHeightTo(i,t,this.ease),this.fillImage.resizeSourceHeightTo(o,t,this.ease);break;case l.VALIGN_TOP:switch(this.fillImage.image.vAlign){case"top":break;case"center":this.fillImage.moveToY(this.height/2-this.height/2*Scalar.InverseLerp(0,this.sourceHeight,o),t,this.ease);break;case"bottom":this.fillImage.moveToY(this.height-this.height*Scalar.InverseLerp(0,this.sourceHeight,o),t,this.ease),this.fillImage.moveSourceTopTo(0,t,this.ease)}this.fillImage.resizeHeightTo(i,t,this.ease),this.fillImage.resizeSourceHeightTo(o,t,this.ease);break;case l.VALIGN_BOTTOM:switch(this.fillImage.image.vAlign){case"top":this.fillImage.moveToY(this.height*Scalar.InverseLerp(this.sourceHeight,0,o)*-1,t,this.ease),this.fillImage.moveSourceTopTo(this.sourceHeight-o,t,this.ease);break;case"center":this.fillImage.moveToY(this.height/2*Scalar.InverseLerp(this.sourceHeight,0,o)*-1,t,this.ease),this.fillImage.moveSourceTopTo(this.sourceHeight-o,t,this.ease);break;case"bottom":this.fillImage.moveToY(Scalar.InverseLerp(0,this.sourceHeight,o),t,this.ease),this.fillImage.moveSourceTopTo(this.sourceHeight-o,t,this.ease)}this.fillImage.resizeHeightTo(i,t,this.ease),this.fillImage.resizeSourceHeightTo(o,t,this.ease)}}},Object.defineProperty(e,"__esModule",{value:!0})}));
